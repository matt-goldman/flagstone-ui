<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:fs="clr-namespace:FlagstoneUI.Core.Controls;assembly=FlagstoneUI.Core"
             xmlns:vm="clr-namespace:FlagstoneUI.SampleApp.ViewModels"
             x:Class="FlagstoneUI.SampleApp.Pages.ControlsShowcasePage"
             Title="Controls Showcase"
             x:DataType="vm:ControlsShowcaseViewModel"
             BackgroundColor="{AppThemeBinding Light={DynamicResource Color.Background}, Dark={DynamicResource Color.Background.Dark}}">

    <ScrollView>
        <VerticalStackLayout Padding="16" Spacing="24">

            <!-- Page Header -->
            <Label Text="Flagstone UI Controls"
                   FontSize="32"
                   FontAttributes="Bold"
                   TextColor="{AppThemeBinding Light={DynamicResource Color.OnBackground}, Dark={DynamicResource Color.OnBackground.Dark}}" />

            <!-- Theme Selector -->
            <HorizontalStackLayout Spacing="12" Margin="0,0,0,8">
                <Label Text="Theme:"
                       FontSize="16"
                       VerticalOptions="Center"
                       TextColor="{AppThemeBinding Light={DynamicResource Color.OnBackground}, Dark={DynamicResource Color.OnBackground.Dark}}" />
                <Picker ItemsSource="{Binding AvailableThemes}"
                        SelectedItem="{Binding SelectedTheme, Mode=TwoWay}"
                        WidthRequest="200"
                        FontSize="16" />
            </HorizontalStackLayout>

            <Label Text="Token-based styling with theme switching"
                   FontSize="16"
                   TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}"
                   Margin="0,0,0,16" />

            <!-- ========== FsButton Section ========== -->
            <Label Text="FsButton"
                   FontSize="24"
                   FontAttributes="Bold"
                   TextColor="{AppThemeBinding Light={DynamicResource Color.OnBackground}, Dark={DynamicResource Color.OnBackground.Dark}}" />

            <!-- Material Theme: Show all variants -->
            <VerticalStackLayout Spacing="12" IsVisible="{Binding IsMaterialTheme}">
                <Label Text="Material Design 3 button variants"
                       FontSize="14"
                       TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}"
                       Margin="0,0,0,8" />

                <!-- Filled Button (Default) -->
                <fs:FsButton Text="Filled Button (Default)"
                             Clicked="OnButtonClicked" />

                <!-- Outlined Button -->
                <fs:FsButton Text="Outlined Button"
                             Style="{StaticResource OutlinedButton}"
                             Clicked="OnButtonClicked" />

                <!-- Text Button -->
                <fs:FsButton Text="Text Button"
                             Style="{StaticResource TextButton}"
                             Clicked="OnButtonClicked" />

                <!-- Tonal Button -->
                <fs:FsButton Text="Tonal Button"
                             Style="{StaticResource TonalButton}"
                             Clicked="OnButtonClicked" />

                <!-- Secondary Button -->
                <fs:FsButton Text="Secondary Button"
                             Style="{StaticResource SecondaryButton}"
                             Clicked="OnButtonClicked" />

                <!-- Tertiary Button -->
                <fs:FsButton Text="Tertiary Button"
                             Style="{StaticResource TertiaryButton}"
                             Clicked="OnButtonClicked" />

                <!-- Disabled Button -->
                <fs:FsButton Text="Disabled Button"
                             IsEnabled="False" />

                <!-- Button Group -->
                <HorizontalStackLayout Spacing="8">
                    <fs:FsButton Text="Primary Action" />
                    <fs:FsButton Text="Secondary"
                                 Style="{StaticResource OutlinedButton}" />
                </HorizontalStackLayout>
            </VerticalStackLayout>

            <!-- Other Themes: Show base controls only -->
            <VerticalStackLayout Spacing="12" IsVisible="{Binding IsNotMaterialTheme}">
                <Label Text="Theme-styled buttons"
                       FontSize="14"
                       TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}"
                       Margin="0,0,0,8" />

                <!-- Default Button -->
                <fs:FsButton Text="Default Button"
                             Clicked="OnButtonClicked" />

                <!-- Secondary Button -->
                <fs:FsButton Text="Secondary Button"
                             Style="{StaticResource SecondaryButton}"
                             Clicked="OnButtonClicked" />

                <!-- Tertiary Button -->
                <fs:FsButton Text="Tertiary Button"
                             Style="{StaticResource TertiaryButton}"
                             Clicked="OnButtonClicked" />

                <!-- Disabled Button -->
                <fs:FsButton Text="Disabled Button"
                             IsEnabled="False" />

                <!-- Button Group -->
                <HorizontalStackLayout Spacing="8">
                    <fs:FsButton Text="Action 1" />
                    <fs:FsButton Text="Action 2" />
                </HorizontalStackLayout>
            </VerticalStackLayout>

            <!-- Divider -->
            <BoxView HeightRequest="1"
                     BackgroundColor="{AppThemeBinding Light={DynamicResource Color.OutlineVariant}, Dark={DynamicResource Color.OutlineVariant.Dark}}"
                     Margin="0,8" />

            <!-- ========== FsCard Section ========== -->
            <Label Text="FsCard"
                   FontSize="24"
                   FontAttributes="Bold"
                   TextColor="{AppThemeBinding Light={DynamicResource Color.OnBackground}, Dark={DynamicResource Color.OnBackground.Dark}}" />

            <!-- Material Theme: Show all variants -->
            <VerticalStackLayout Spacing="12" IsVisible="{Binding IsMaterialTheme}">
                <Label Text="Container control with elevation and border options"
                       FontSize="14"
                       TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}"
                       Margin="0,0,0,8" />

                <!-- Filled Card (Default) -->
                <fs:FsCard>
                    <VerticalStackLayout Spacing="8">
                        <Label Text="Filled Card (Default)"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}" />
                        <Label Text="This card uses the default filled style with subtle elevation."
                               FontSize="14"
                               TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}" />
                    </VerticalStackLayout>
                </fs:FsCard>

                <!-- Outlined Card -->
                <fs:FsCard Style="{StaticResource OutlinedCard}">
                    <VerticalStackLayout Spacing="8">
                        <Label Text="Outlined Card"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurface}, Dark={DynamicResource Color.OnSurface.Dark}}" />
                        <Label Text="This card has a border instead of elevation."
                               FontSize="14"
                               TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}" />
                    </VerticalStackLayout>
                </fs:FsCard>

                <!-- Elevated Card -->
                <fs:FsCard Style="{StaticResource ElevatedCard}">
                    <VerticalStackLayout Spacing="8">
                        <Label Text="Elevated Card"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurface}, Dark={DynamicResource Color.OnSurface.Dark}}" />
                        <Label Text="This card has increased elevation for emphasis."
                               FontSize="14"
                               TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}" />
                    </VerticalStackLayout>
                </fs:FsCard>

                <!-- Card with Content Example -->
                <fs:FsCard>
                    <VerticalStackLayout Spacing="12">
                        <Label Text="Card with Action Buttons"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}" />
                        <Label Text="Cards can contain any content, including buttons and other controls."
                               FontSize="14"
                               TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}" />
                        <HorizontalStackLayout Spacing="8" Margin="0,8,0,0">
                            <fs:FsButton Text="Action"
                                         Style="{StaticResource TextButton}"
                                         Clicked="OnCardActionClicked" />
                            <fs:FsButton Text="Learn More"
                                         Style="{StaticResource TextButton}"
                                         Clicked="OnCardActionClicked" />
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </fs:FsCard>
            </VerticalStackLayout>

            <!-- Other Themes: Show base controls only -->
            <VerticalStackLayout Spacing="12" IsVisible="{Binding IsNotMaterialTheme}">
                <Label Text="Theme-styled container control"
                       FontSize="14"
                       TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}"
                       Margin="0,0,0,8" />

                <!-- Default Card -->
                <fs:FsCard>
                    <VerticalStackLayout Spacing="8">
                        <Label Text="Default Card"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurface}, Dark={DynamicResource Color.OnSurface.Dark}}" />
                        <Label Text="This card uses the theme's default styling."
                               FontSize="14"
                               TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}" />
                    </VerticalStackLayout>
                </fs:FsCard>

                <!-- Card with Content -->
                <fs:FsCard>
                    <VerticalStackLayout Spacing="12">
                        <Label Text="Card with Content"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurface}, Dark={DynamicResource Color.OnSurface.Dark}}" />
                        <Label Text="Cards can contain any content with theme-appropriate styling."
                               FontSize="14"
                               TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}" />
                        <HorizontalStackLayout Spacing="8" Margin="0,8,0,0">
                            <fs:FsButton Text="Action" Clicked="OnCardActionClicked" />
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </fs:FsCard>
            </VerticalStackLayout>

            <!-- Divider -->
            <BoxView HeightRequest="1"
                     BackgroundColor="{AppThemeBinding Light={DynamicResource Color.OutlineVariant}, Dark={DynamicResource Color.OutlineVariant.Dark}}"
                     Margin="0,8" />

            <!-- ========== FsEntry Section ========== -->
            <Label Text="FsEntry"
                   FontSize="24"
                   FontAttributes="Bold"
                   TextColor="{AppThemeBinding Light={DynamicResource Color.OnBackground}, Dark={DynamicResource Color.OnBackground.Dark}}" />

            <!-- Material Theme: Show all variants -->
            <VerticalStackLayout Spacing="12" IsVisible="{Binding IsMaterialTheme}">
                <Label Text="Text input field with customizable border and styling"
                       FontSize="14"
                       TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}"
                       Margin="0,0,0,8" />

                <!-- Filled Entry (Default) -->
                <fs:FsEntry Placeholder="Filled Entry (Default)"
                            x:Name="FilledEntry"
                            TextChanged="OnEntryTextChanged" />

                <!-- Outlined Entry -->
                <fs:FsEntry Placeholder="Outlined Entry"
                            Style="{StaticResource OutlinedEntry}"
                            x:Name="OutlinedEntry"
                            TextChanged="OnEntryTextChanged" />

                <!-- Entry with Text -->
                <fs:FsEntry Placeholder="Entry with preset text"
                            Text="Sample text content" />

                <!-- Password Entry -->
                <fs:FsEntry Placeholder="Password Entry"
                            IsPassword="True" />

                <!-- Disabled Entry -->
                <fs:FsEntry Placeholder="Disabled Entry"
                            IsEnabled="False"
                            Text="This entry is disabled" />

                <!-- Entry with Keyboard Types -->
                <fs:FsEntry Placeholder="Email Entry"
                            Keyboard="Email" />

                <fs:FsEntry Placeholder="Numeric Entry"
                            Keyboard="Numeric" />

                <!-- Entry State Feedback -->
                <Label x:Name="EntryFeedbackLabel"
                       Text="Type in any entry to see feedback..."
                       FontSize="12"
                       TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}"
                       Margin="0,8,0,0" />
            </VerticalStackLayout>

            <!-- Other Themes: Show base controls only -->
            <VerticalStackLayout Spacing="12" IsVisible="{Binding IsNotMaterialTheme}">
                <Label Text="Theme-styled text input field"
                       FontSize="14"
                       TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}"
                       Margin="0,0,0,8" />

                <!-- Default Entry -->
                <fs:FsEntry Placeholder="Default Entry"
                            x:Name="DefaultEntry"
                            TextChanged="OnEntryTextChanged" />

                <!-- Entry with Text -->
                <fs:FsEntry Placeholder="Entry with preset text"
                            Text="Sample text content" />

                <!-- Password Entry -->
                <fs:FsEntry Placeholder="Password Entry"
                            IsPassword="True" />

                <!-- Disabled Entry -->
                <fs:FsEntry Placeholder="Disabled Entry"
                            IsEnabled="False"
                            Text="This entry is disabled" />

                <!-- Entry with Keyboard Types -->
                <fs:FsEntry Placeholder="Email Entry"
                            Keyboard="Email" />

                <!-- Entry State Feedback -->
                <Label x:Name="EntryFeedbackLabelAlt"
                       Text="Type in any entry to see feedback..."
                       FontSize="12"
                       TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}"
                       Margin="0,8,0,0" />
            </VerticalStackLayout>

            <!-- Divider -->
            <BoxView HeightRequest="1"
                     BackgroundColor="{AppThemeBinding Light={DynamicResource Color.OutlineVariant}, Dark={DynamicResource Color.OutlineVariant.Dark}}"
                     Margin="0,16" />

            <!-- Footer Info -->
            <fs:FsCard Style="{StaticResource OutlinedCard}">
                <VerticalStackLayout Spacing="8">
                    <Label Text="Token-Based Styling"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurface}, Dark={DynamicResource Color.OnSurface.Dark}}" />
                    <Label TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}"
                           FontSize="14">
                        <Label.FormattedText>
                            <FormattedString>
                                <Span Text="All controls use " />
                                <Span Text="DynamicResource" FontAttributes="Bold" />
                                <Span Text=" bindings to design tokens, enabling:" />
                            </FormattedString>
                        </Label.FormattedText>
                    </Label>
                    <Label Text="• Automatic dark mode support"
                           FontSize="14"
                           TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}" />
                    <Label Text="• Consistent styling across the app"
                           FontSize="14"
                           TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}" />
                    <Label Text="• Easy theme customization"
                           FontSize="14"
                           TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}" />
                    <Label Text="• Material Design 3 compliance"
                           FontSize="14"
                           TextColor="{AppThemeBinding Light={DynamicResource Color.OnSurfaceVariant}, Dark={DynamicResource Color.OnSurfaceVariant.Dark}}" />
                </VerticalStackLayout>
            </fs:FsCard>

            <!-- Bottom Spacing -->
            <BoxView HeightRequest="32" Color="Transparent" />

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
